"use strict";(self.webpackChunksoftware_engineering_lab=self.webpackChunksoftware_engineering_lab||[]).push([[694],{694:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var l=a(43),s=a(117),i=a(579);const n=e=>{let{todo:t,onToggle:a,onDelete:n,onEdit:o,onPriorityChange:d}=e;const{t:r}=(0,s.Bd)(),[c,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(t.text),[x,p]=(0,l.useState)(t.dueDate||""),b=()=>{""!==m.trim()&&(o(t.id,m.trim(),x),u(!1))},g=()=>{h(t.text),p(t.dueDate||""),u(!1)},j=()=>{if(!t.dueDate||t.completed)return!1;const e=new Date,a=new Date(t.dueDate);return e.setHours(0,0,0,0),a.setHours(0,0,0,0),a<e};return(0,i.jsxs)("div",{className:`todo-item ${t.completed?"completed":""} priority-${t.priority}${j()?" overdue":""}`,role:"listitem","aria-label":t.text,children:[(0,i.jsxs)("div",{className:"todo-content",children:[c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),onKeyPress:e=>{"Enter"===e.key?b():"Escape"===e.key&&g()},onBlur:g,className:"edit-input",autoFocus:!0,"aria-label":"Edit todo text"}),(0,i.jsx)("input",{type:"date",value:x,onChange:e=>p(e.target.value),className:"edit-due-date-input","aria-label":"Edit due date"})]}):(0,i.jsx)("span",{className:"todo-text",onDoubleClick:()=>u(!0),tabIndex:0,"aria-label":t.text,role:"textbox",children:t.text}),(0,i.jsxs)("div",{className:"todo-meta",children:[(0,i.jsxs)("small",{className:"todo-date",children:[r("Created at"),": ",t.createdAt]}),t.dueDate&&(0,i.jsxs)("small",{className:"todo-due-date",children:[r("Due"),": ",t.dueDate]}),j()&&(0,i.jsx)("span",{className:"overdue-badge",children:r("Overdue!")}),(0,i.jsxs)("span",{className:"priority-badge",onClick:()=>{const e=["low","medium","high"],a=(e.indexOf(t.priority)+1)%e.length;d(t.id,e[a])},title:"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u062a\u063a\u06cc\u06cc\u0631 \u0627\u0648\u0644\u0648\u06cc\u062a",children:[(e=>{switch(e){case"high":return"\ud83d\udd34";case"medium":default:return"\ud83d\udfe1";case"low":return"\ud83d\udfe2"}})(t.priority)," ",(e=>{switch(e){case"high":return"\u0628\u0627\u0644\u0627";case"medium":default:return"\u0645\u062a\u0648\u0633\u0637";case"low":return"\u067e\u0627\u06cc\u06cc\u0646"}})(t.priority)]})]})]}),(0,i.jsx)("div",{className:"todo-actions",children:c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:b,className:"save-button",title:"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a","aria-label":"Save changes",children:"\u2713"}),(0,i.jsx)("button",{onClick:g,className:"cancel-button",title:"\u0644\u063a\u0648 \u0648\u06cc\u0631\u0627\u06cc\u0634","aria-label":"Cancel editing",children:"\u2715"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>a(t.id),className:"toggle-button "+(t.completed?"completed":""),title:t.completed?"\u0628\u0631\u06af\u0631\u062f\u0627\u0646\u062f\u0646 \u0628\u0647 \u0648\u0636\u0639\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0646\u0634\u062f\u0647":"\u0639\u0644\u0627\u0645\u062a\u200c\u06af\u0630\u0627\u0631\u06cc \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0627\u0646\u062c\u0627\u0645 \u0634\u062f\u0647","aria-label":t.completed?"Mark as not completed":"Mark as completed",children:t.completed?"\u2713":"\u25cb"}),(0,i.jsx)("button",{onClick:()=>u(!0),className:"edit-button",title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0648\u0638\u06cc\u0641\u0647","aria-label":"Edit todo",children:"\ud83d\udd8f"}),(0,i.jsx)("button",{onClick:()=>n(t.id),className:"delete-button",title:"\u062d\u0630\u0641 \u0648\u0638\u06cc\u0641\u0647","aria-label":"Delete todo",children:"\ud83d\uddd1\ufe0f"})]})})]})}}}]);
//# sourceMappingURL=694.0de050e0.chunk.js.map